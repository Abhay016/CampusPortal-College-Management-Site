<script>
    $(document).ready(function () {
        var options = {
        series: [{{ student_count }}, {{ staff_count }}, {{ subject_count }}, {{ course_count }}],
        chart: {
        height: 250,
        width: '100%',
        type: 'pie',
    },
        labels: ['Student', 'Staff', 'Subject', 'Course'],
        responsive: [{
            breakpoint: 480,
            options: {
                chart: {
                    width: 200
                },
                legend: {
                    position: 'bottom'
                }
            }
        }]
        };

    var chart = new ApexCharts(document.querySelector("#All_details"), options);
    chart.render();
    if ($('#stud_gender').length > 0) {
        var optionsBar = {
            chart: {
                type: 'bar',
                height: 250,
                width: '100%',
                stacked: true,
                toolbar: {
                    show: false
                }
            },
            dataLabels: {
                enabled: false
            },
            plotOptions: {
                bar: {
                    columnWidth: '45%'
                }
            },
            series: [
                {
                    name: "Boys",
                    color: '#fdbb38',
                    data: [{{ student_gender_male }}]
        },
            {
                name: "Girls",
                color: '#19affb',
                data: [{{ student_gender_female }}]
    }
            ],
    labels: [2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020],
        xaxis: {
        labels: {
            show: false
        },
        axisBorder: {
            show: false
        },
        axisTicks: {
            show: false
        }
    },
    yaxis: {
        axisBorder: {
            show: false
        },
        axisTicks: {
            show: false
        },
        labels: {
            style: {
                colors: '#777'
            }
        }
    },
    title: {
        text: '',
            align: 'left',
                style: {
            fontSize: '18px'
        }
    }
        };

    var chartBar = new ApexCharts(document.querySelector('#stud_gender'), optionsBar);
    chartBar.render();
    }



    var options = {
        series: [{{student_count}}, {{staff_count}}],
        chart: {
            height: 250,
            width: '100%',
            type: 'pie',
        },
        labels: [
            'Student',
            'Staff',
        ],
        theme: {
            monochrome: {
                enabled: true,
            },
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    offset: -5,
                },
            },
        },
        grid: {
            padding: {
                top: 0,
                bottom: 0,
                left: 0,
                right: 0,
            },
        },
        dataLabels: {
            formatter(val, opts) {
                const name = opts.w.globals.labels[opts.seriesIndex]
                return [name, val.toFixed(1) + '%']
            },
        },
        legend: {
            show: false,
        },
    };

    var chart = new ApexCharts(document.querySelector("#stud_staff"), options);
    chart.render()

    var options = {
          series: [{{course_count}}, {{subject_count}}],
          chart: {
          height: 250,
          width: '100%',
          type: 'donut',
        },
        plotOptions: {
          pie: {
            startAngle: -90,
            endAngle: 270
          }
        },
        dataLabels: {
          enabled: false
        },
        fill: {
          type: 'gradient',
        },
        legend: {
          formatter: function(val, opts) {
            return val + " - " + opts.w.globals.series[opts.seriesIndex]
          }
        },
        title: {
          text: ''
        },
        labels: [
            'Course',
            'Subject',
        ],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 200
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
        };

        var chart = new ApexCharts(document.querySelector("#course_subject"), options);
        chart.render();
});
</script>